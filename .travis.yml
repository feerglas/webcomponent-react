language: node_js

# travis will automatically install correct node version based on .mwnrc
# as long as we don't specify an explicit node version here

cache:
  directories:
  - node_modules

# travis does npm install automatically

script:
  - npm run build

deploy:
  provider: heroku:git
  api_key: travis encrypt $HEROKU_API_KEY
  edge: true # opt in to dpl v2
